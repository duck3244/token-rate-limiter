graph TB
    %% 액터 정의
    Client[👤 클라이언트<br/>애플리케이션]
    Admin[👨‍💼 시스템 관리자]
    Developer[👨‍💻 개발자]
    Monitor[🤖 모니터링 시스템]
    
    %% 시스템 경계
    subgraph "Token Rate Limiter System"
        
        %% 주요 사용 사례들
        subgraph "Core Use Cases"
            UC1[📝 모델 API 요청]
            UC2[🛡️ 토큰 사용량 제한]
            UC3[📊 토큰 사용량 추적]
            UC4[🔄 모델 서버 프록시]
            UC5[💾 캐시 관리]
        end
        
        %% 관리 사용 사례들
        subgraph "Admin Use Cases"
            UC6[📈 사용량 통계 조회]
            UC7[⚙️ 제한 설정 변경]
            UC8[🔍 사용자별 사용량 조회]
            UC9[🔄 사용량 리셋]
            UC10[🏥 시스템 상태 확인]
        end
        
        %% 모니터링 사용 사례들
        subgraph "Monitoring Use Cases"
            UC11[📊 메트릭 수집]
            UC12[🚨 알람 발생]
            UC13[📋 로그 수집]
            UC14[💊 헬스체크]
            UC15[📈 대시보드 표시]
        end
        
        %% 개발/운영 사용 사례들
        subgraph "Development Use Cases"
            UC16[🔧 모델 서버 등록]
            UC17[🗑️ 모델 서버 해제]
            UC18[🔄 설정 업데이트]
            UC19[🧹 데이터 정리]
            UC20[🔍 디버깅]
        end
        
        %% 확장 사용 사례들
        subgraph "Extended Use Cases"
            UC21[🔐 사용자 인증]
            UC22[📊 실시간 분석]
            UC23[🎯 동적 제한 조정]
            UC24[🔄 자동 스케일링]
            UC25[💾 백업 및 복구]
        end
    end
    
    %% 관계 설정 - 클라이언트
    Client --> UC1
    Client --> UC21
    UC1 --> UC2
    UC1 --> UC3
    UC1 --> UC4
    UC2 --> UC5
    
    %% 관계 설정 - 관리자
    Admin --> UC6
    Admin --> UC7
    Admin --> UC8
    Admin --> UC9
    Admin --> UC10
    Admin --> UC18
    Admin --> UC25
    
    %% 관계 설정 - 개발자
    Developer --> UC16
    Developer --> UC17
    Developer --> UC18
    Developer --> UC19
    Developer --> UC20
    Developer --> UC10
    
    %% 관계 설정 - 모니터링 시스템
    Monitor --> UC11
    Monitor --> UC12
    Monitor --> UC13
    Monitor --> UC14
    Monitor --> UC15
    Monitor --> UC22
    Monitor --> UC24
    
    %% 확장 관계 (extends)
    UC2 -.->|extends| UC23
    UC5 -.->|extends| UC19
    UC11 -.->|extends| UC22
    UC14 -.->|extends| UC24
    
    %% 포함 관계 (includes)
    UC1 -.->|includes| UC21
    UC6 -.->|includes| UC3
    UC7 -.->|includes| UC18
    UC12 -.->|includes| UC11
    UC15 -.->|includes| UC11
    
    %% 의존 관계
    UC4 -.->|depends| UC16
    UC2 -.->|depends| UC5
    UC3 -.->|depends| UC5
    UC12 -.->|depends| UC13
    
    %% 스타일링
    classDef actor fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px
    classDef coreUC fill:#e3f2fd,stroke:#1565c0,stroke-width:2px
    classDef adminUC fill:#fff3e0,stroke:#ef6c00,stroke-width:2px
    classDef monitorUC fill:#f1f8e9,stroke:#558b2f,stroke-width:2px
    classDef devUC fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef extendedUC fill:#fce4ec,stroke:#ad1457,stroke-width:2px
    
    class Client,Admin,Developer,Monitor actor
    class UC1,UC2,UC3,UC4,UC5 coreUC
    class UC6,UC7,UC8,UC9,UC10 adminUC
    class UC11,UC12,UC13,UC14,UC15 monitorUC
    class UC16,UC17,UC18,UC19,UC20 devUC
    class UC21,UC22,UC23,UC24,UC25 extendedUC