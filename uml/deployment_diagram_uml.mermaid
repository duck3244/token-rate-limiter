graph TB
    %% í´ë¼ì´ì–¸íŠ¸ ì¡´
    subgraph "Client Zone"
        Mobile[ğŸ“± Mobile Apps]
        Web[ğŸ’» Web Apps]
        API_Client[ğŸ”Œ API Clients]
    end
    
    %% ë¡œë“œ ë°¸ëŸ°ì„œ
    LoadBalancer[âš–ï¸ Load Balancer<br/>NGINX Ingress Controller]
    
    %% Kubernetes í´ëŸ¬ìŠ¤í„°
    subgraph "Kubernetes Cluster"
        
        %% ë„¤ì„ìŠ¤í˜ì´ìŠ¤: model-serving
        subgraph "Namespace: model-serving"
            
            %% Token Rate Limiter íŒŒë“œë“¤
            subgraph "Token Rate Limiter Deployment"
                Pod1[ğŸ›¡ï¸ Token Rate Limiter Pod 1<br/>Spring Boot WebFlux<br/>CPU: 200m-500m<br/>Memory: 512Mi-1Gi]
                Pod2[ğŸ›¡ï¸ Token Rate Limiter Pod 2<br/>Spring Boot WebFlux<br/>CPU: 200m-500m<br/>Memory: 512Mi-1Gi]
                Pod3[ğŸ›¡ï¸ Token Rate Limiter Pod 3<br/>Spring Boot WebFlux<br/>CPU: 200m-500m<br/>Memory: 512Mi-1Gi]
            end
            
            %% Redis í´ëŸ¬ìŠ¤í„°
            subgraph "Redis Deployment"
                RedisMain[ğŸ’¾ Redis Master<br/>CPU: 100m-200m<br/>Memory: 256Mi-512Mi]
                RedisReplica[ğŸ’¾ Redis Replica<br/>CPU: 100m-200m<br/>Memory: 256Mi-512Mi]
            end
            
            %% vLLM ëª¨ë¸ ì„œë²„ë“¤
            subgraph "vLLM Model Servers"
                Llama7B[ğŸ¤– Llama2-7B Pod<br/>GPU: 1x NVIDIA<br/>Memory: 16Gi-32Gi<br/>CPU: 4-8 cores]
                Llama13B[ğŸ¤– Llama2-13B Pod<br/>GPU: 1x NVIDIA<br/>Memory: 32Gi-64Gi<br/>CPU: 8-16 cores]
                GPT35[ğŸ¤– GPT-3.5 Pod<br/>GPU: 1x NVIDIA<br/>Memory: 16Gi-32Gi<br/>CPU: 4-8 cores]
            end
            
            %% ì„œë¹„ìŠ¤ë“¤
            TRLService[ğŸ“¡ Token Rate Limiter Service<br/>ClusterIP:8080]
            RedisService[ğŸ“¡ Redis Service<br/>ClusterIP:6379]
            ModelServices[ğŸ“¡ Model Services<br/>ClusterIP:8000]
            
        end
        
        %% ë„¤ì„ìŠ¤í˜ì´ìŠ¤: monitoring
        subgraph "Namespace: monitoring"
            PrometheusPod[ğŸ“Š Prometheus Pod<br/>CPU: 500m-1000m<br/>Memory: 1Gi-2Gi]
            GrafanaPod[ğŸ“ˆ Grafana Pod<br/>CPU: 100m-200m<br/>Memory: 256Mi-512Mi]
            AlertManagerPod[ğŸš¨ AlertManager Pod<br/>CPU: 100m-200m<br/>Memory: 128Mi-256Mi]
        end
        
        %% ìŠ¤í† ë¦¬ì§€
        subgraph "Persistent Storage"
            RedisVolume[(ğŸ’¾ Redis PVC<br/>10Gi SSD)]
            PrometheusVolume[(ğŸ“Š Prometheus PVC<br/>50Gi SSD)]
            GrafanaVolume[(ğŸ“ˆ Grafana PVC<br/>5Gi SSD)]
            ModelCache[(ğŸ¤– Model Cache PVC<br/>100Gi SSD)]
        end
        
        %% ConfigMaps & Secrets
        subgraph "Configuration"
            ConfigMap[âš™ï¸ ConfigMaps<br/>Application Settings]
            Secrets[ğŸ” Secrets<br/>API Keys & Passwords]
        end
        
        %% HPA & ìŠ¤ì¼€ì¼ë§
        subgraph "Auto Scaling"
            HPA[ğŸ“ˆ HPA<br/>CPU/Memory Based<br/>3-10 replicas]
            VPA[ğŸ“Š VPA<br/>Resource Optimization]
        end
        
    end
    
    %% ì™¸ë¶€ ëª¨ë‹ˆí„°ë§
    subgraph "External Monitoring"
        LogAggregator[ğŸ“ Log Aggregator<br/>ELK Stack]
        ExternalMetrics[ğŸ“Š External Metrics<br/>DataDog/New Relic]
    end
    
    %% ì—°ê²° ê´€ê³„
    Mobile --> LoadBalancer
    Web --> LoadBalancer
    API_Client --> LoadBalancer
    
    LoadBalancer --> TRLService
    
    TRLService --> Pod1
    TRLService --> Pod2
    TRLService --> Pod3
    
    Pod1 --> RedisService
    Pod2 --> RedisService
    Pod3 --> RedisService
    
    RedisService --> RedisMain
    RedisMain --> RedisReplica
    
    Pod1 --> ModelServices
    Pod2 --> ModelServices
    Pod3 --> ModelServices
    
    ModelServices --> Llama7B
    ModelServices --> Llama13B
    ModelServices --> GPT35
    
    %% ìŠ¤í† ë¦¬ì§€ ì—°ê²°
    RedisMain --> RedisVolume
    PrometheusPod --> PrometheusVolume
    GrafanaPod --> GrafanaVolume
    Llama7B --> ModelCache
    Llama13B --> ModelCache
    GPT35 --> ModelCache
    
    %% ì„¤ì • ì—°ê²°
    Pod1 --> ConfigMap
    Pod2 --> ConfigMap
    Pod3 --> ConfigMap
    Pod1 --> Secrets
    Pod2 --> Secrets
    Pod3 --> Secrets
    
    %% ëª¨ë‹ˆí„°ë§ ì—°ê²°
    Pod1 --> PrometheusPod
    Pod2 --> PrometheusPod
    Pod3 --> PrometheusPod
    PrometheusPod --> GrafanaPod
    PrometheusPod --> AlertManagerPod
    
    %% ìŠ¤ì¼€ì¼ë§ ì—°ê²°
    HPA --> Pod1
    HPA --> Pod2
    HPA --> Pod3
    VPA --> Pod1
    VPA --> Pod2
    VPA --> Pod3
    
    %% ì™¸ë¶€ ëª¨ë‹ˆí„°ë§
    Pod1 --> LogAggregator
    Pod2 --> LogAggregator
    Pod3 --> LogAggregator
    PrometheusPod --> ExternalMetrics
    
    %% ìŠ¤íƒ€ì¼ë§
    classDef clientStyle fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px
    classDef lbStyle fill:#e3f2fd,stroke:#1565c0,stroke-width:2px
    classDef appStyle fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef dataStyle fill:#fff3e0,stroke:#ef6c00,stroke-width:2px
    classDef modelStyle fill:#ffebee,stroke:#c62828,stroke-width:2px
    classDef monitorStyle fill:#f1f8e9,stroke:#558b2f,stroke-width:2px
    classDef storageStyle fill:#fce4ec,stroke:#ad1457,stroke-width:2px
    classDef configStyle fill:#fff8e1,stroke:#f9a825,stroke-width:2px
    classDef scalingStyle fill:#e0f2f1,stroke:#00695c,stroke-width:2px
    
    class Mobile,Web,API_Client clientStyle
    class LoadBalancer lbStyle
    class Pod1,Pod2,Pod3,TRLService appStyle
    class RedisMain,RedisReplica,RedisService dataStyle
    class Llama7B,Llama13B,GPT35,ModelServices modelStyle
    class PrometheusPod,GrafanaPod,AlertManagerPod,LogAggregator,ExternalMetrics monitorStyle
    class RedisVolume,PrometheusVolume,GrafanaVolume,ModelCache storageStyle
    class ConfigMap,Secrets configStyle
    class HPA,VPA scalingStyle